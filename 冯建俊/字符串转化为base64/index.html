<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style type="text/css">
        *{margin: 0;padding: 0}
        textarea{ width: 500px;height: 100px; border:1px solid #ccc; margin:20px auto; display: block}
        button{display:block; border-radius:8px;width: 80px;outline: none;border: none;height: 30px; line-height:30px; color:#fff; background-color: #c00; text-align: center;margin: 0 auto; cursor: pointer;}
    </style>
</head>
<body>
    <textarea id="str"></textarea>
    <button id="btn">转换</button>
    <textarea id="base64"></textarea>
    <script type="text/javascript">
        window.onload=function(){
            document.querySelector("#btn").onclick=function(){
                var val=document.querySelector("#str").value;
                var formdata=new FormData();
                formdata.append("str",val);
                var url=location.href;
                var xhr=new XMLHttpRequest();

                xhr.open("POST",url,true);
                xhr.onreadystatechange=function(){
                    if (xhr.readyState==4 && xhr.status ==200) {
                        document.querySelector("#base64").value=xhr.responseText;
                    }
                }
                xhr.send("str="+val)
            }
        }
    </script>
</body>
</html>